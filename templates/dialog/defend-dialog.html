<form class="custom-dialog defense-dialog">
  {{#if shouldShowTarget}}
    <div class="form-group form-group-target">
      <label>{{localize "PB.Target"}}:</label>
      <div class="target-selection {{#if hasTargetWarning }}warning{{/if}}">
        {{#if isTargetSelectionValid}}
        <img src="{{target.img}}" data-edit="img" title="{{target.name}}" /> {{target.name}}
        {{else}}
          {{localize "PB.TargetInvalid"}}
        {{/if}}         
      </div>
    </div>
  {{/if}}  
  <div class="form-group">
    <label>{{localize "PB.Defend"}} {{localize "PB.DR"}}:</label>
    <div class="form-fields">
      <input id="defendDr" type="text" name="defensebasedr" value="{{defendDR}}" placeholder="12" data-dtype="Number" />
      <input id="defenseModifiedDr" title="{{localize 'PB.Modified'}} {{localize 'PB.DR'}}" type="text" class="readonly" name="defensemodifieddr" value="" placeholder="12" readonly />
      {{#if drModifiers}}
        <div class="form-warning-icon" title="{{#each drModifiers}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}"><i class="fas fa-exclamation-circle"></i></div>
      {{/if}}    
    </div>
  </div>
  <div class="form-group form-group-radio-selector">
    <label></label>
    <ul class="radio-group-radio defense-base-dr">
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendDr.value" value="8" {{#ifEq defendDR '8'}}checked{{/ifEq}}/ />
          <span class="radio-label">8</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendDr.value" value="10" {{#ifEq defendDR '10'}}checked{{/ifEq}}/>
          <span class="radio-label">10</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendDr.value" value="12" {{#ifEq defendDR '12'}}checked{{/ifEq}}/>
          <span class="radio-label">12</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendDr.value" value="14" {{#ifEq defendDR '14'}}checked{{/ifEq}}/>
          <span class="radio-label">14</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendDr.value" value="16" {{#ifEq defendDR '16'}}checked{{/ifEq}}/>
          <span class="radio-label">16</span>
        </label>
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>{{localize "PB.IncomingAttack"}}:</label>
    <input id="incomingAttack" type="text" name="incomingattack" value="{{incomingAttack}}" placeholder="1d6" data-dtype="String" />
  </div>
  <div class="form-group form-group-radio-selector">
    <label></label>
    <ul class="radio-group-radio incoming-attack">
      <li>
        <label>
          <input class="radio-input" type="radio" name="attackDR.value" value="1d2" {{#ifEq incomingAttack '1d2'}}checked{{/ifEq}}/ />
          <span class="radio-label">d2</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="attackDR.value" value="1d4" {{#ifEq incomingAttack '1d4'}}checked{{/ifEq}}/>
          <span class="radio-label">d4</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="attackDR.value" value="1d6" {{#ifEq incomingAttack '1d6'}}checked{{/ifEq}}/>
          <span class="radio-label">d6</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="attackDR.value" value="1d8" {{#ifEq incomingAttack '1d8'}}checked{{/ifEq}}/>
          <span class="radio-label">d8</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="attackDR.value" value="1d10" {{#ifEq incomingAttack '1d10'}}checked{{/ifEq}}/>
          <span class="radio-label">d10</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="attackDR.value" value="1d12" {{#ifEq incomingAttack '1d12'}}checked{{/ifEq}}/>
          <span class="radio-label">d12</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="attackDR.value" value="d20" {{#ifEq incomingAttack 'd20'}}checked{{/ifEq}}/>
          <span class="radio-label">d20</span>
        </label>
      </li>
    </ul>
  </div>

  <div class="form-group">
    <label>{{localize "PB.Armor"}}:</label>
    <input id="defendArmor" type="text" name="defendarmor" value="{{defendArmor}}" placeholder="0" data-dtype="String" />
  </div>    
  <!-- <div class="form-group">
    <label></label>
    <ul class="radio-group-radio defend-armor">
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendArmor.value" value="0" {{#ifEq defendArmor '0'}}checked{{/ifEq}}/>
          <span class="radio-label">0</span>
          <span class="radio-label-under">0</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendArmor.value" value="1d2" {{#ifEq defendArmor '1d2'}}checked{{/ifEq}}/>
          <span class="radio-label">1</span>
          <span class="radio-label-under">-d2</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendArmor.value" value="1d4" {{#ifEq defendArmor '1d4'}}checked{{/ifEq}}/>
          <span class="radio-label">2</span>
          <span class="radio-label-under">-d4</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendArmor.value" value="1d6" {{#ifEq defendArmor '1d6'}}checked{{/ifEq}}/>
          <span class="radio-label">3</span>
          <span class="radio-label-under">-d6</span>
        </label>
      </li>
      <li>
        <label>
          <input class="radio-input" type="radio" name="defendArmor.value" value="1d8" {{#ifEq defendArmor '1d8'}}checked{{/ifEq}}/>
          <span class="radio-label">4</span>
          <span class="radio-label-under">-d8</span>
        </label>
      </li>
    </ul>
  </div> -->
  <div class="button-row">
    <button type="submit" class="button cancel-button">{{localize "PB.Cancel"}}</button>
    <button type="submit" class="button ok-button">
      <i class="fas fa-dice-d20"></i>
      {{localize "PB.Roll"}}
    </button>
  </div>
</form>
